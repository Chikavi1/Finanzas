 
<ion-content [fullscreen]="true">
<div style="padding: 1em;margin-top:3em">
  <h2 (click)="toggleType()" *ngIf="type == 'income'"><i class="fa-solid fa-money-bill" style="color:green"></i> Ingresos</h2>
  <h2 (click)="toggleType()" *ngIf="type == 'expense'"><i class="fa-solid fa-money-bill" style="color:red"></i> Gastos</h2>

  <ion-input [(ngModel)]="name"  style="margin-top: 2em;" placeholder="Agrega una descripciÃ³n para recordar este ingreso"></ion-input>

  <div style="margin-top: 1em;" class="chip-container-horizontal">
    <ion-chip [ngClass]="method == 'cash' ? 'active' : ''" (click)="setMethod('cash')"><ion-icon
        name="cash-outline"></ion-icon> &nbsp; Efectivo</ion-chip>
    <ion-chip [ngClass]="method == 'bank' ? 'active' : ''" (click)="setMethod('bank')"><ion-icon
        name="card-outline"></ion-icon> &nbsp; Banco</ion-chip>
    <ion-chip [ngClass]="method == 'debt' ? 'active' : ''" (click)="setMethod('debt')"><ion-icon
        name="alert-circle-outline"></ion-icon> &nbsp; Deuda</ion-chip>
    <ion-chip [ngClass]="method == 'goal' ? 'active' : ''" (click)="setMethod('goal')"><ion-icon
        name="flag-outline"></ion-icon> &nbsp; Objetivo</ion-chip>
    <ion-chip [ngClass]="method == 'paypal' ? 'active' : ''" (click)="setMethod('paypal')"><ion-icon
        name="logo-paypal"></ion-icon>&nbsp; PayPal</ion-chip>
  </div>

  <div *ngIf="method == 'bank'">
    <p>Selecciona a cual tarjeta:</p>
    
    <ion-chip color="success" (click)="addCard()"><ion-icon name="add"></ion-icon> &nbsp; Agregar</ion-chip>
    
    <div class="chip-container-horizontal" style="margin-top: 1em;">
      <div  *ngFor="let card of cards">
        <ion-chip>**** {{card.last4}}</ion-chip>
      </div>
    </div>

  </div>

  <div *ngIf="method == 'debt'">
    <p>Selecciona la deuda:</p>

    <ion-chip color="success" (click)="addDebt()"><ion-icon name="add"></ion-icon> &nbsp; Agregar</ion-chip>

    <div class="chip-container-horizontal capital" style="margin-top: 1em;">
      <ion-chip  *ngFor="let deb of debts"  >{{deb.name}}</ion-chip>
    </div>
 
  </div>

  <div *ngIf="method == 'goal'">
    <p>Selecciona un objetivo:</p>
    <ion-chip color="success" (click)="addGoal()"><ion-icon name="add"></ion-icon> &nbsp; Agregar</ion-chip>

    <div class="chip-container-horizontal" style="margin-top: 1em;" *ngFor="let goal of goals">
      <ion-chip>{{goal.name}}</ion-chip>
    </div>
  </div>

  <div style="margin-top: 2em;">

  </div>
  <ion-item lines="none">
    <ion-label position="fixed"><i class="fa-solid fa-dollar-sign"></i> Monto</ion-label>
    <ion-input (ionInput)="validateInput($event)" [(ngModel)]="amount" placeholder="Ingresa cantidad" type="tel" style="margin-left: auto;text-align: right;"></ion-input>
  </ion-item>



  <ion-item lines="none">
    <ion-label position="fixed"><i class="fa-solid fa-calendar-days"></i> Fecha</ion-label>
    <ion-datetime-button datetime="datetime" style="margin-left: auto;"></ion-datetime-button>
    <ion-modal [keepContentsMounted]="true">
      <ng-template>
        <ion-datetime id="datetime" [(ngModel)]="selectedDateTime" presentation="date-time" doneText="Aceptar"
          cancelText="Cancelar" display-format="DD/MM/YYYY HH:mm" show-default-buttons="true"></ion-datetime>
      </ng-template>
    </ion-modal>
  </ion-item>

  <ion-item lines="none">
    <ion-label position="fixed"><i class="fa-solid fa-layer-group"></i> Categoria</ion-label>
    <ion-label  style="text-align: right;" (click)="setIsSelectedCategories()" >Efectivo</ion-label>
    <p>  </p>
  </ion-item>


  <ion-card style="padding: 1em;" *ngIf="IsSelectedCategories">
    <ion-row>
      <ion-col size="10">
          <h2>Categorias</h2>
      </ion-col>
      <ion-col size="2">
        <h2 style="text-align: right;" (click)="setIsSelectedCategories()">
          <ion-icon name="close"></ion-icon>  
        </h2>
      </ion-col>
    </ion-row>
    <p style="margin-bottom: 1em;">  Selecciona una categoria:</p>
    <p>Ingreso </p>
    <p> <i class="fa-solid fa-mobile"></i> Celular</p>
    <p><i class="fa-solid fa-gas-pump"></i> Combustible</p>
    <p><i class="fa-solid fa-shirt"></i> Ropa</p>
  </ion-card>

  <ion-card style="padding: 1em;">
    <h2> <i class="fa-solid fa-flask"></i> En Resumen</h2>
    <p>Se saldo en la cuenta de credito</p>
  </ion-card>
 
  
 
</div>

</ion-content>

<ion-footer>
  <ion-row>
    <ion-col>
      <ion-button (click)="close()" expand="full" color="danger" shape="round" style="margin-top: 2.3em;" >
        &nbsp; Cerrar
      </ion-button>
    </ion-col>
    <ion-col>
      <ion-button [disabled]="!amount || !name" (click)="add()" expand="full" color="dark" shape="round" style="margin-top: 2.3em;"><ion-icon name="add"></ion-icon>
        &nbsp; {{ textDone }} 
      </ion-button>
    </ion-col>
  </ion-row>
 
</ion-footer>